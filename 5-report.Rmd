---
title: "Housing Affordability in Toronto"
subtitle: "Visualizing 2021 Census Data"
author: "Fraser McLaughlin"
contact: 'fraser.mclaughlin@outlook.com'
date: "`r format(Sys.time(), '%d %B, %Y')`"
output:
  html_notebook:
    toc: yes
    df_print: paged
    toc_float: yes
    number_sections: yes
    code_folding: hide
    
---
```{css, echo=FALSE}

p.caption {
  font-size: 0.8em;
  font-weight: bold;
}

<!-- h2 { -->
<!--   font-size: 2em; -->
<!-- } -->

.customTable {
  width: 100%;
  border: 1px solid black;
  border-collapse: collapse;
  
.customTable th,
.customTable td {
  width: 20%;
  text-align: left;
  padding: 4px;
  border: 1px solid black;
  border-collapse: collapse;
}
}
```

```{r setup, warning=FALSE, echo=FALSE}
library("pacman")
pacman::p_load(
  tidyverse,
  scales,
  leaflet,
  plotly,
  reactable,
  htmltools,
  htmlwidgets,
  leaflet.extras
)

```


# Introduction

Created: Feb 2023

This analysis investigates...

This is a work in progress.

The source code for data acquisition, analysis, and building this report are 
all [available on GitHub](https://github.com/frasemcl/kensignton-market)


If you have any questions, comments, feedback, or would like to collaborate,
don't hesitate to contact me: fraser.mclaughlin@outlook.com

Some ideas about where I'd like to take this next include time series analysis 
of select variables.... WHAT ELSE? Pull in CMHC data etc... Statistical analysis...

...

Given that this is a work in progress, the result is not yet entirely mobile
friendly, though almost everything scales down properly.


# Data


For a visual representation of the process of naming the cencsus tracts based
on the neighbourhood that each census tract centroid falls in, see Appendix
section: [Naming Census Tracts](#naming-cts)

# Maps
## fig - Name this map
Any aditional text
```{r, echo=FALSE}
map_leaflet_perc30
```



## tbl - Table to lookup all the census variables...
Use the search bar to...
```{r, echo=FALSE}
table_var_lookup
```

# Appendix

## Naming Census Tracts{#naming-cts}

```{r, out.width = "100%", echo=FALSE}

# To check, mobile responsiveness is improved now, but to test if out.width
# here is helping or if it was the width var in map_leaflet_perc30 only

map_naming_cts
```

## Other Data Visualizations

Use the 'range slider' below the main plot to focus on range of interest. This plot may be used or adapted in subsequent versions of this analysis. This output can now easily be generated for any variable.

```{r, fig.height = 7, out.width = "100%", message = FALSE, echo = FALSE}
v_CA21_4307_plotly_sorted_bar
v_CA21_4315_plotly_sorted_bar
```
